package Thread_Pool;
import java.math.BigDecimal;
import java.math.MathContext;
import java.util.Scanner;

public class Master {

	public static void main(String[] args) throws InterruptedException {
		System.out.println("How many threads do you like?");
		Scanner scanner = new Scanner(System.in);
		int threads = scanner.nextInt();
		
		BigDecimal pi = new BigDecimal(Math.PI/4, MathContext.DECIMAL128);
		int position = 0;
		BigDecimal result = new BigDecimal("0");
		while(!result.equals(pi)){
			Worker[] wor = new Worker[threads];
			for(int i = 0; i < threads; i++){
				wor[i] = new Worker();
				wor[i].setStart(position);
				wor[i].setStop(position+3);
				position = position + 4;
				wor[i].start();
			}
			for(int i = 0; i < threads; i++){
				wor[i].join();
				result = result.add(wor[i].getResult());
			} 
		}
		System.out.println(result);
	}

}
